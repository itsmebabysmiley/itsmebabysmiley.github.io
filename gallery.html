<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our gallery</title>
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="button.css">
    <link rel="stylesheet" href="card.css">

    <!-- Google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@100&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Mitr">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>

    <style>
      .modal-header{
        border-bottom: none;
      }
      .details-image {
        font-family: 'Mitr', sans-serif;
      }
    </style>
</head>
<body>
    
</body>
    <header class"active">
        <a class="header-text grow" href="index.html">Home</a>
        <a class="header-text grow" href="gallery.html">Gallery</a>
        <a class="header-text grow">About us</a>
    </header>
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
         
        </div>
      </div>
    </div>
  </div>
    <!-- Contents -->
    <div class="container" style="padding-top: 7rem;">
        <h1>Gallery</h1>
        <p>This site represent our photos together. </p>
        <div class="gallery animate">
            <figure class="gallery__item gallery__item--1 grow">
                <img src="images/image8.PNG" class="gallery__img" alt="Image 1"data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="a('images/image8.PNG')">
              </figure>
              <figure class="gallery__item gallery__item--2 grow">
                <img src="images/image9.jpg" class="gallery__img" alt="Image 2" data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="a('images/image9.jpg')">
              </figure>
              <figure class="gallery__item gallery__item--3 grow">
                <img src="images/image10.jpg" class="gallery__img" alt="Image 3" data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="a('images/image10.jpg')">
              </figure>
              <figure class="gallery__item gallery__item--4 grow">
                <img src="images/image11.jpeg" class="gallery__img" alt="Image 4" data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="a('images/image11.jpeg')">
              </figure>
              <figure class="gallery__item gallery__item--5 grow">
                <img src="images/4squard2.jpg" class="gallery__img" alt="Image 5" data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="a('images/4squard2.jpg')">
              </figure>
              <figure class="gallery__item gallery__item--6 grow " >
                <video class="gallery_vdo" controls="controls" preload="metadata" muted data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="a('video/video1.mov')">
                  <source src="video/video1.mov" type="video/mp4">
                </video>
              </figure>
              <figure class="gallery__item gallery__item--7 grow">
                <img src="images/image12.PNG" class="gallery__img" alt="Image 7" data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="a('images/image12.PNG')">
              </figure>

        </div>

        
    </div>

    
</html>
<!-- load JSON File -->
<script type="text/javascript" src="info.json"></script>
<script>
    
    const exampleModal = document.getElementById('exampleModal')
    exampleModal.addEventListener('show.bs.modal', event => {
        // Button that triggered the modal
        const button = event.relatedTarget
        // Extract info from data-bs-* attributes
        const recipient = button.getAttribute('data-bs-whatever')
        // If necessary, you could initiate an AJAX request here
        // and then do the updating in a callback.
    })
    function a(img_path){
      // Update the modal's content.
      const modalTitle = exampleModal.querySelector('.modal-title')
      const modalBodyInput = exampleModal.querySelector('.modal-body')
      
      fetch('info.json')
        .then(function (response) {
            return response.json();
        })
        .then(function(data){
          //modalBodyInput.textContent = data[x].description;
          data = data.find(item => item.path === img_path);
          console.log(data);
          let div;
          if(data.path.startsWith('video')){
            div = `
            <div class="container text-center">
                <video controls="controls" preload="metadata" loop muted autoplay="autoplay" width="50%">
                    <source src="${data.path}" type="video/mp4">
                  </video>
                <p style="padding:1rem; color: gray;">${data.date}</p>
            </div>
            <h6>Description</h6>
            <p class="details-image" style="text-align:left; padding:1rem;">&nbsp;&nbsp;&nbsp;${data.description}</p>
          `
          }else{
            div = `
            <div class="container text-center">
              <img src="${data.path}" alt="Image 1" width="50%">
              <p style="padding:1rem; color: gray;">${data.date}</p>
            </div>
            <h6>Description</h6>
            <p class="details-image" style="text-align:left; padding:1rem;">&nbsp;&nbsp;&nbsp;${data.description}</p>
            `
          }
         
          modalBodyInput.innerHTML = div;
        })
        .catch(function (err) {
            console.log('error: ' + err);
        });
    }
    



</script>

